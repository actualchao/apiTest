<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>ECharts</title>
  <!-- 引入 echarts.js -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.0.1/dist/echarts.min.js"></script>
</head>

<body>
  <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
  <div id="main" style="width: 600px;height:400px;"></div>
  <script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    var option = {
      backgroundColor: '#fff',
      grid: {
        left: '5%',
        right: '4%',
        top: '10%',
        bottom: '10%'
      },
      legend: {
        top: 10,
        left: 10,
        itemGap: 20,
        textStyle: {
          color: '#556677'
        },
        show: false,
      },
      tooltip: {
        trigger: 'axis',
      },
      xAxis: [{
        type: "category",
        boundaryGap: false,
        axisLabel: {
          textStyle: {
            color: "#333"
          }
        },
        axisLine: {
          lineStyle: {
            color: "#D9D9D9"
          }
        },
        data: [1, 2, 3, 4, 5, 6, 7]
      }],
      yAxis: [{
        type: 'value',
        axisTick: {
          show: false
        },
        axisLine: {
          show: true,
          lineStyle: {
            color: '#DCE2E8'
          }
        },
        axisLabel: {
          textStyle: {
            color: '#556677'
          }
        },
        splitLine: {
          show: false
        }
      }],
      series: [
        {
          name: 'aa',
          type: 'line',
          data: [4, 2, 6, 35, 23, 1, 4],
          symbolSize: 1,
          smooth: true,
          yAxisIndex: 0,
          showSymbol: false,
          lineStyle: {
            width: 2,
          },
          itemStyle: {
            normal: {
              color: '#222',
              borderColor: '#222'
            }
          }
        },
        {
          name: 'bb',
          type: 'line',
          data: [4, 21, 62, 35, 23, 1, 4],
          symbolSize: 1,
          smooth: true,
          yAxisIndex: 0,
          showSymbol: false,
          lineStyle: {
            width: 2,
          },
          itemStyle: {
            normal: {
              color: '#555',
              borderColor: '#555'
            }
          }
        }
      ]
    }

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);



    setTimeout(() => {
      console.log(2);

      console.log(echarts.init(document.getElementById('main')) === myChart);

      
      option.series.push({
        name: 'cc',
        type: 'line',
        data: [4, 21, 62, 35, 23, 134, 4],
        symbolSize: 1,
        smooth: true,
        yAxisIndex: 0,
        showSymbol: false,
        lineStyle: {
          width: 2,
        },
        itemStyle: {
          normal: {
            color: '#4f4f4f',
            borderColor: '#4f4f4f'
          }
        }
      })
      myChart.setOption(option);
    }, 2000);

    setTimeout(() => {
      console.log(3);
      option.series.pop()
      console.log(option.series);
      myChart.setOption(option, { notMerge: true });
    }, 4000);
  </script>
</body>

</html>